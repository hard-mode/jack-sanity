<!DOCTYPE html>
<html>

  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="description" content="Jack-sanity : A scriptable environment for controlling jackdbus clients.">

    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">

    <title>Jack-sanity</title>
  </head>

  <body>

    <!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">
          <a id="forkme_banner" href="https://github.com/psychoticmeow/jack-sanity">View on GitHub</a>

          <h1 id="project_title">Jack-sanity</h1>
          <h2 id="project_tagline">A scriptable environment for controlling jackdbus clients.</h2>

            <section id="downloads">
              <a class="zip_download_link" href="https://github.com/psychoticmeow/jack-sanity/zipball/master">Download this project as a .zip file</a>
              <a class="tar_download_link" href="https://github.com/psychoticmeow/jack-sanity/tarball/master">Download this project as a tar.gz file</a>
            </section>
        </header>
    </div>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner">
        <h2>
<a id="install" class="anchor" href="#install" aria-hidden="true"><span class="octicon octicon-link"></span></a>Install</h2>

<p>You'll need to clone this repository and then run <code>npm install</code>, then you can symlink <code>bin/jack-sanity</code> to somewhere in your path.</p>

<h2>
<a id="usage" class="anchor" href="#usage" aria-hidden="true"><span class="octicon octicon-link"></span></a>Usage</h2>

<p>Create a new JavaScript file and save it somewhere handy, this will be your session configuration file. You can use it to watch JACK clients and ports:</p>

<div class="highlight highlight-js"><pre><span class="pl-s">var</span> hardware <span class="pl-k">=</span> session.createClient(<span class="pl-s1"><span class="pl-pds">'</span>system<span class="pl-pds">'</span></span>),
    effects <span class="pl-k">=</span> session.createClient(<span class="pl-s1"><span class="pl-pds">'</span>my-effects<span class="pl-pds">'</span></span>);

effects.on(<span class="pl-s1"><span class="pl-pds">'</span>online<span class="pl-pds">'</span></span>, <span class="pl-st">function</span>() {
    <span class="pl-c">// Auto-connect a client to the hardware output:</span>
    effects.connect(hardware);
});</pre></div>

<p>You can also start and stop processes:</p>

<div class="highlight highlight-js"><pre><span class="pl-s">var</span> effectsHost <span class="pl-k">=</span> session.createProcess(<span class="pl-s1"><span class="pl-pds">'</span>calfjackhost<span class="pl-pds">'</span></span>, [
    <span class="pl-s1"><span class="pl-pds">'</span>--client<span class="pl-pds">'</span></span>, <span class="pl-s1"><span class="pl-pds">'</span>my-effects<span class="pl-pds">'</span></span>
]);

session.on(<span class="pl-s1"><span class="pl-pds">'</span>open<span class="pl-pds">'</span></span>, <span class="pl-st">function</span>() {
    <span class="pl-c">// Start the effects host when the session opens:</span>
    effectsHost.<span class="pl-s3">open</span>();
});

session.on(<span class="pl-s1"><span class="pl-pds">'</span>close<span class="pl-pds">'</span></span>, <span class="pl-st">function</span>() {
    <span class="pl-c">// Stop the effects host when the session closes:</span>
    effectsHost.<span class="pl-s3">close</span>();
});

effectsHost.on(<span class="pl-s1"><span class="pl-pds">'</span>close<span class="pl-pds">'</span></span>, <span class="pl-st">function</span>() {
    <span class="pl-c">// Restart the effects host when it closes (or crashes):</span>
    effectsHost.<span class="pl-s3">open</span>();
});</pre></div>

<p>To make life easier, you can combine the client and the process under one name:</p>

<div class="highlight highlight-js"><pre><span class="pl-s">var</span> effects <span class="pl-k">=</span> session.combine(
    session.createClient(<span class="pl-s1"><span class="pl-pds">'</span>my-effects<span class="pl-pds">'</span></span>),
    session.createProcess(<span class="pl-s1"><span class="pl-pds">'</span>calfjackhost<span class="pl-pds">'</span></span>, [
        <span class="pl-s1"><span class="pl-pds">'</span>--client<span class="pl-pds">'</span></span>, <span class="pl-s1"><span class="pl-pds">'</span>my-effects<span class="pl-pds">'</span></span>
    ])
);

session.on(<span class="pl-s1"><span class="pl-pds">'</span>open<span class="pl-pds">'</span></span>, <span class="pl-st">function</span>() {
    <span class="pl-c">// Start the effects host when the session opens:</span>
    effects.<span class="pl-s3">open</span>();

    <span class="pl-c">// Connect the effects:</span>
    <span class="pl-k">if</span> (effects.canConnect(hardware)) {
        effects.connect(hardware);
    }
});</pre></div>

<p>You can also log events to the terminal:</p>

<div class="highlight highlight-js"><pre>session.on(<span class="pl-s1"><span class="pl-pds">'</span>open<span class="pl-pds">'</span></span>, <span class="pl-st">function</span>() {
    <span class="pl-s3">log</span>(<span class="pl-s1"><span class="pl-pds">'</span>Session is ready...<span class="pl-pds">'</span></span>);
});

session.on(<span class="pl-s1"><span class="pl-pds">'</span>close<span class="pl-pds">'</span></span>, <span class="pl-st">function</span>() {
    <span class="pl-s3">log</span>(<span class="pl-s1"><span class="pl-pds">'</span>Session closed.<span class="pl-pds">'</span></span>);
});</pre></div>

<p>To start your session simply run:</p>

<div class="highlight highlight-bash"><pre>jack-sanity --config yoursession.js</pre></div>

<p>The configuration file will be monitored for changes and then restart your session.</p>

<h2>
<a id="documentation" class="anchor" href="#documentation" aria-hidden="true"><span class="octicon octicon-link"></span></a>Documentation</h2>

<h3>
<a id="sessioncreateclient" class="anchor" href="#sessioncreateclient" aria-hidden="true"><span class="octicon octicon-link"></span></a>Session.createClient</h3>

<p>Create an interface to a matching set of jack clients, even if they do not currently exist in the session. See <code>Client.isOnline</code>.</p>

<div class="highlight highlight-js"><pre><span class="pl-c">// Specify an exact client name:</span>
session.createClient(<span class="pl-s1"><span class="pl-pds">'</span>system<span class="pl-pds">'</span></span>);

<span class="pl-c">// Use regular expressions to match a client name:</span>
session.createClient(<span class="pl-sr"><span class="pl-pds">/</span>calf<span class="pl-pds">/</span>i</span>);</pre></div>

<h4>
<a id="parameters" class="anchor" href="#parameters" aria-hidden="true"><span class="octicon octicon-link"></span></a>Parameters</h4>

<ul>
<li>
<code>clientName</code> a <code>String</code> or <code>RegExp</code> to search with.</li>
</ul>

<h4>
<a id="returns" class="anchor" href="#returns" aria-hidden="true"><span class="octicon octicon-link"></span></a>Returns</h4>

<ul>
<li>An instance of <code>Client</code>.</li>
</ul>

<h3>
<a id="sessioncreateport" class="anchor" href="#sessioncreateport" aria-hidden="true"><span class="octicon octicon-link"></span></a>Session.createPort</h3>

<p>Create an interface to a set of matching jack ports, even if they do not currently exist in the session. See <code>Client.isOnline</code> and <code>Port.isOnline</code>.</p>

<div class="highlight highlight-js"><pre><span class="pl-c">// Specify an exact port name:</span>
session.createPort(<span class="pl-s1"><span class="pl-pds">'</span>my-client<span class="pl-pds">'</span></span>, <span class="pl-s1"><span class="pl-pds">'</span>event-out<span class="pl-pds">'</span></span>);

<span class="pl-c">// Use regular expressions to match a port name:</span>
session.createPort(<span class="pl-s1"><span class="pl-pds">'</span>my-client<span class="pl-pds">'</span></span>,<span class="pl-sr"> <span class="pl-pds">/</span>_<span class="pl-c1">[lr12]</span><span class="pl-pds">/</span>i</span>);</pre></div>

<h4>
<a id="parameters-1" class="anchor" href="#parameters-1" aria-hidden="true"><span class="octicon octicon-link"></span></a>Parameters</h4>

<ul>
<li>
<code>clientName</code> a <code>String</code> or <code>RegExp</code> to search with.</li>
<li>
<code>portName</code> a <code>String</code> or <code>RegExp</code> to search with.</li>
</ul>

<h4>
<a id="returns-1" class="anchor" href="#returns-1" aria-hidden="true"><span class="octicon octicon-link"></span></a>Returns</h4>

<ul>
<li>An instance of <code>Port</code>.</li>
</ul>

<h3>
<a id="sessioncreateprocess" class="anchor" href="#sessioncreateprocess" aria-hidden="true"><span class="octicon octicon-link"></span></a>Session.createProcess</h3>

<p>Create a process definition that can be started and stopped as needed.</p>

<div class="highlight highlight-js"><pre><span class="pl-c">// Specify an exact port name:</span>
session.createPort(<span class="pl-s1"><span class="pl-pds">'</span>my-client<span class="pl-pds">'</span></span>, <span class="pl-s1"><span class="pl-pds">'</span>event-out<span class="pl-pds">'</span></span>);

<span class="pl-c">// Use regular expressions to match a port name:</span>
session.createPort(<span class="pl-s1"><span class="pl-pds">'</span>my-client<span class="pl-pds">'</span></span>,<span class="pl-sr"> <span class="pl-pds">/</span>_<span class="pl-c1">[lr12]</span><span class="pl-pds">/</span>i</span>);</pre></div>

<h4>
<a id="parameters-2" class="anchor" href="#parameters-2" aria-hidden="true"><span class="octicon octicon-link"></span></a>Parameters</h4>

<ul>
<li>
<code>command</code> a <code>String</code> of the name of the command to execute.</li>
<li>
<code>args</code> an array of arguments to be passed to the function.</li>
</ul>

<h4>
<a id="returns-2" class="anchor" href="#returns-2" aria-hidden="true"><span class="octicon octicon-link"></span></a>Returns</h4>

<ul>
<li>An instance of <code>Process</code>.</li>
</ul>

<h3>
<a id="sessioncombine" class="anchor" href="#sessioncombine" aria-hidden="true"><span class="octicon octicon-link"></span></a>Session.combine</h3>

<p>Combine the functions and events of two or more <code>Client</code>, <code>Process</code> or <code>Port</code> instances into one object.</p>

<div class="highlight highlight-js"><pre>session.combine(
    session.createClient(<span class="pl-s1"><span class="pl-pds">'</span>my-client<span class="pl-pds">'</span></span>),
    session.createProcess(<span class="pl-s1"><span class="pl-pds">'</span>calfjackhost<span class="pl-pds">'</span></span>, [
        <span class="pl-s1"><span class="pl-pds">'</span>--client<span class="pl-pds">'</span></span>, <span class="pl-s1"><span class="pl-pds">'</span>my-client<span class="pl-pds">'</span></span>
    ])
);</pre></div>

<h4>
<a id="parameters-3" class="anchor" href="#parameters-3" aria-hidden="true"><span class="octicon octicon-link"></span></a>Parameters</h4>

<ul>
<li>One or more <code>Client</code> or <code>Port</code> to connect to.</li>
</ul>

<h4>
<a id="returns-3" class="anchor" href="#returns-3" aria-hidden="true"><span class="octicon octicon-link"></span></a>Returns</h4>

<ul>
<li>A new object.</li>
</ul>

<h3>
<a id="sessionon" class="anchor" href="#sessionon" aria-hidden="true"><span class="octicon octicon-link"></span></a>Session.on</h3>

<p>Add an event listener to the <code>session</code>. For complete documentation of event functions see the <a href="https://github.com/asyncly/EventEmitter2">EventEmitter2</a> documentation.</p>

<h4>
<a id="events" class="anchor" href="#events" aria-hidden="true"><span class="octicon octicon-link"></span></a>Events</h4>

<h5>
<a id="open" class="anchor" href="#open" aria-hidden="true"><span class="octicon octicon-link"></span></a>open</h5>

<p>Triggered when the session opens for the first time, or after a configuration change.</p>

<h5>
<a id="close" class="anchor" href="#close" aria-hidden="true"><span class="octicon octicon-link"></span></a>close</h5>

<p>Triggered when the session is about to close.</p>

<h3>
<a id="clientcreateport" class="anchor" href="#clientcreateport" aria-hidden="true"><span class="octicon octicon-link"></span></a>Client.createPort</h3>

<p>Create an interface to a set of matching jack ports, even if they do not currently exist in the session. See <code>Port.isOnline</code>.</p>

<div class="highlight highlight-js"><pre>session.createClient(<span class="pl-s1"><span class="pl-pds">'</span>my-client<span class="pl-pds">'</span></span>)
    .createPort(<span class="pl-s1"><span class="pl-pds">'</span>event-out<span class="pl-pds">'</span></span>);</pre></div>

<h4>
<a id="parameters-4" class="anchor" href="#parameters-4" aria-hidden="true"><span class="octicon octicon-link"></span></a>Parameters</h4>

<ul>
<li>
<code>portName</code> a <code>String</code> or <code>RegExp</code> to search with.</li>
</ul>

<h4>
<a id="returns-4" class="anchor" href="#returns-4" aria-hidden="true"><span class="octicon octicon-link"></span></a>Returns</h4>

<ul>
<li>An instance of <code>Port</code>.</li>
</ul>

<h3>
<a id="clientcanconnect" class="anchor" href="#clientcanconnect" aria-hidden="true"><span class="octicon octicon-link"></span></a>Client.canConnect</h3>

<p>Check to see if a client can successfully connect its outputs to the inputs of another client.</p>

<div class="highlight highlight-js"><pre>session.createClient(<span class="pl-s1"><span class="pl-pds">'</span>client-1<span class="pl-pds">'</span></span>)
    .canConnect(session.createClient(<span class="pl-s1"><span class="pl-pds">'</span>client-2<span class="pl-pds">'</span></span>));</pre></div>

<h4>
<a id="parameters-5" class="anchor" href="#parameters-5" aria-hidden="true"><span class="octicon octicon-link"></span></a>Parameters</h4>

<ul>
<li>
<code>client</code>; a <code>Client</code> or <code>Port</code> to connect to.</li>
</ul>

<h4>
<a id="returns-5" class="anchor" href="#returns-5" aria-hidden="true"><span class="octicon octicon-link"></span></a>Returns</h4>

<ul>
<li>Either <code>true</code> or <code>false</code> depending on success.</li>
</ul>

<h3>
<a id="clientconnect" class="anchor" href="#clientconnect" aria-hidden="true"><span class="octicon octicon-link"></span></a>Client.connect</h3>

<p>Connect the outputs of a client to the inputs of another client.</p>

<div class="highlight highlight-js"><pre>session.createClient(<span class="pl-s1"><span class="pl-pds">'</span>client-1<span class="pl-pds">'</span></span>)
    .connect(session.createClient(<span class="pl-s1"><span class="pl-pds">'</span>client-2<span class="pl-pds">'</span></span>));</pre></div>

<h4>
<a id="parameters-6" class="anchor" href="#parameters-6" aria-hidden="true"><span class="octicon octicon-link"></span></a>Parameters</h4>

<ul>
<li>
<code>client</code>; a <code>Client</code> or <code>Port</code> to connect to.</li>
</ul>

<h4>
<a id="returns-6" class="anchor" href="#returns-6" aria-hidden="true"><span class="octicon octicon-link"></span></a>Returns</h4>

<ul>
<li>Either <code>true</code> or <code>false</code> depending on success.</li>
</ul>

<h3>
<a id="clientdisconnect" class="anchor" href="#clientdisconnect" aria-hidden="true"><span class="octicon octicon-link"></span></a>Client.disconnect</h3>

<p>Disconnect the outputs of a client from the inputs of another port.</p>

<div class="highlight highlight-js"><pre>session.createClient(<span class="pl-s1"><span class="pl-pds">'</span>client-1<span class="pl-pds">'</span></span>)
    .disconnect(session.createClient(<span class="pl-s1"><span class="pl-pds">'</span>client-2<span class="pl-pds">'</span></span>));</pre></div>

<h4>
<a id="returns-7" class="anchor" href="#returns-7" aria-hidden="true"><span class="octicon octicon-link"></span></a>Returns</h4>

<ul>
<li>Either <code>true</code> or <code>false</code> depending on success.</li>
</ul>

<h3>
<a id="clientisonline" class="anchor" href="#clientisonline" aria-hidden="true"><span class="octicon octicon-link"></span></a>Client.isOnline</h3>

<p>Check to see if a client is currently online and available.</p>

<div class="highlight highlight-js"><pre>session.createClient(<span class="pl-s1"><span class="pl-pds">'</span>client-1<span class="pl-pds">'</span></span>)
    .isOnline();</pre></div>

<h4>
<a id="returns-8" class="anchor" href="#returns-8" aria-hidden="true"><span class="octicon octicon-link"></span></a>Returns</h4>

<ul>
<li>For online <code>true</code>.</li>
<li>Or for offline <code>false</code>.</li>
</ul>

<h3>
<a id="clienton" class="anchor" href="#clienton" aria-hidden="true"><span class="octicon octicon-link"></span></a>Client.on</h3>

<p>Add an event listener to a client. For complete documentation of event functions see the <a href="https://github.com/asyncly/EventEmitter2">EventEmitter2</a> documentation.</p>

<h4>
<a id="events-1" class="anchor" href="#events-1" aria-hidden="true"><span class="octicon octicon-link"></span></a>Events</h4>

<h5>
<a id="online" class="anchor" href="#online" aria-hidden="true"><span class="octicon octicon-link"></span></a>online</h5>

<p>Triggered when the client goes online.</p>

<h5>
<a id="offline" class="anchor" href="#offline" aria-hidden="true"><span class="octicon octicon-link"></span></a>offline</h5>

<p>Triggered when the client goes offline.</p>

<h3>
<a id="portcanconnect" class="anchor" href="#portcanconnect" aria-hidden="true"><span class="octicon octicon-link"></span></a>Port.canConnect</h3>

<p>Check to see if a port can successfully connect its outputs to the inputs of another port.</p>

<div class="highlight highlight-js"><pre>session.createPort(<span class="pl-s1"><span class="pl-pds">'</span>client-1<span class="pl-pds">'</span></span>, <span class="pl-s1"><span class="pl-pds">'</span>out<span class="pl-pds">'</span></span>)
    .canConnect(session.createPort(<span class="pl-s1"><span class="pl-pds">'</span>client-2<span class="pl-pds">'</span></span>, <span class="pl-s1"><span class="pl-pds">'</span>in<span class="pl-pds">'</span></span>));</pre></div>

<h4>
<a id="parameters-7" class="anchor" href="#parameters-7" aria-hidden="true"><span class="octicon octicon-link"></span></a>Parameters</h4>

<ul>
<li>
<code>client</code>; a <code>Client</code> or <code>Port</code> to connect to.</li>
</ul>

<h4>
<a id="returns-9" class="anchor" href="#returns-9" aria-hidden="true"><span class="octicon octicon-link"></span></a>Returns</h4>

<ul>
<li>Either <code>true</code> or <code>false</code> depending on success.</li>
</ul>

<h3>
<a id="portconnect" class="anchor" href="#portconnect" aria-hidden="true"><span class="octicon octicon-link"></span></a>Port.connect</h3>

<p>Connect the outputs of a port to the inputs of another port.</p>

<div class="highlight highlight-js"><pre>session.createPort(<span class="pl-s1"><span class="pl-pds">'</span>client-1<span class="pl-pds">'</span></span>, <span class="pl-s1"><span class="pl-pds">'</span>out<span class="pl-pds">'</span></span>)
    .connect(session.createPort(<span class="pl-s1"><span class="pl-pds">'</span>client-2<span class="pl-pds">'</span></span>, <span class="pl-s1"><span class="pl-pds">'</span>in<span class="pl-pds">'</span></span>));</pre></div>

<h4>
<a id="parameters-8" class="anchor" href="#parameters-8" aria-hidden="true"><span class="octicon octicon-link"></span></a>Parameters</h4>

<ul>
<li>
<code>client</code>; a <code>Client</code> or <code>Port</code> to connect to.</li>
</ul>

<h4>
<a id="returns-10" class="anchor" href="#returns-10" aria-hidden="true"><span class="octicon octicon-link"></span></a>Returns</h4>

<ul>
<li>Either <code>true</code> or <code>false</code> depending on success.</li>
</ul>

<h3>
<a id="portdisconnect" class="anchor" href="#portdisconnect" aria-hidden="true"><span class="octicon octicon-link"></span></a>Port.disconnect</h3>

<p>Disconnect the outputs of a port from the inputs of another port.</p>

<div class="highlight highlight-js"><pre>session.createPort(<span class="pl-s1"><span class="pl-pds">'</span>client-1<span class="pl-pds">'</span></span>, <span class="pl-s1"><span class="pl-pds">'</span>out<span class="pl-pds">'</span></span>)
    .disconnect(session.createPort(<span class="pl-s1"><span class="pl-pds">'</span>client-2<span class="pl-pds">'</span></span>, <span class="pl-s1"><span class="pl-pds">'</span>in<span class="pl-pds">'</span></span>));</pre></div>

<h4>
<a id="returns-11" class="anchor" href="#returns-11" aria-hidden="true"><span class="octicon octicon-link"></span></a>Returns</h4>

<ul>
<li>Either <code>true</code> or <code>false</code> depending on success.</li>
</ul>

<h3>
<a id="portisonline" class="anchor" href="#portisonline" aria-hidden="true"><span class="octicon octicon-link"></span></a>Port.isOnline</h3>

<p>Check to see if a client is currently online and available.</p>

<div class="highlight highlight-js"><pre>session.createClient(<span class="pl-s1"><span class="pl-pds">'</span>client-1<span class="pl-pds">'</span></span>)
    .isOnline();</pre></div>

<h4>
<a id="returns-12" class="anchor" href="#returns-12" aria-hidden="true"><span class="octicon octicon-link"></span></a>Returns</h4>

<ul>
<li>For online <code>true</code>.</li>
<li>Or for offline <code>false</code>.</li>
</ul>

<h3>
<a id="porton" class="anchor" href="#porton" aria-hidden="true"><span class="octicon octicon-link"></span></a>Port.on</h3>

<p>Add an event listener to a port. For complete documentation of event functions see the <a href="https://github.com/asyncly/EventEmitter2">EventEmitter2</a> documentation.</p>

<h4>
<a id="events-2" class="anchor" href="#events-2" aria-hidden="true"><span class="octicon octicon-link"></span></a>Events</h4>

<h5>
<a id="online-1" class="anchor" href="#online-1" aria-hidden="true"><span class="octicon octicon-link"></span></a>online</h5>

<p>Triggered when the port goes online.</p>

<h5>
<a id="offline-1" class="anchor" href="#offline-1" aria-hidden="true"><span class="octicon octicon-link"></span></a>offline</h5>

<p>Triggered when the port goes offline.</p>
      </section>
    </div>

    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        <p class="copyright">Jack-sanity maintained by <a href="https://github.com/psychoticmeow">psychoticmeow</a></p>
        <p>Published with <a href="http://pages.github.com">GitHub Pages</a></p>
      </footer>
    </div>

    

  </body>
</html>
